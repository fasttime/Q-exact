!function(a){"use strict";function b(a,b,c){var d,e,f=a._sign,g=b._sign,h=a._factors,i=b._factors;if(f&&g){var l=k(h,i),m=f*l.norm1,n=c*g*l.norm2,o=m+n;(o-m!==n||o-n!==m)&&F();var p=Math.abs(o);d=o/p^0,e=l.factors,r(e,p,C);for(var q in e)e[q]||delete e[q]}else d=f+c*g,e=h||i;var s=j(d,e);return s}function c(a){var b=Math.log(a)*Math.LOG2E^0,c=a/d(b);return c>=2?++b:1>c&&--b,b}function d(a){var b=Math.pow(2,a);return b}function e(a,b){var c=b>1023?a*d(1023)*d(b-1023):a*d(b);return c}function f(a,b){return a.apply(A(b[0]),Array.prototype.slice.call(b,1))}function g(a,b,c){for(var d=c;b>d&&v(a,d)===v(a,d-c);++d);return d>=K+c?d:void 0}function h(){return{}}function i(a,b){var c=function(){var c=Array.prototype.reduce.call(arguments,function(b,c){return a.call(b,c)},I(b));return c};return c}function j(){var a=Object.create(I.prototype);return y.apply(a,arguments),a}function k(a,b){var c,e=h();for(c in a)e[c]=Math.min(a[c],w(b,c));for(c in b)e[c]=Math.min(b[c],w(a,c));var f=1,g=1;for(c in e)if(2!==+c){var i=e[c],j=w(a,c)-i;if(j>0)f*=Math.pow(c,j);else{var k=w(b,c)-i;k>0&&(g*=Math.pow(c,k))}}f&g&1||F();var l=w(a,2)-w(e,2),m=f*d(l),n=w(b,2)-w(e,2),o=g*d(n),p={factors:e,norm1:m,norm2:o};return p}function l(a,b){var c=w(a,b)-1;D(a,b,c)}function m(a,b){Object.defineProperty(I,a,{value:b})}function n(a,b){o(I,a,b)}function o(a,b,c){Object.defineProperty(a,b,{configurable:!0,value:c,writable:!0})}function p(a,b){o(I.prototype,a,b)}function q(a,b){p(a,b);var c=function(){return f(b,arguments)};n(a,c)}function r(a,b,c){if(b>1){for(var d=0,e=2;!(e*e>b);)b%e?e=N[d++]||u():(c(a,e),b/=e);c(a,b)}}function s(a,b){var f=52-c(b);b=e(b,f);for(var h,i=Math.min(f-K,52),j=2;i>=j;++j){var k=b-v(b,j-1),m=g(k,f,j);if(m){var n=d(j),o=Math.floor(k/d(m-j))%n;if(o){var p=Math.floor(k/d(m)),q=n-1,s=p*q+o;return r(a,s,x),r(a,q,l),h=w(a,2)-f+m,void D(a,2,h)}}}r(a,b,x),h=w(a,2)-f,D(a,2,h)}function t(a,b){if(a._sign){var c=a._factors;Object.keys(c).sort(function(a,b){return a-b}).forEach(function(a){var d=c[a];b(a,d)})}}function u(){for(var a=N[N.length-1];;){a+=2;for(var b=0;;++b){var c=N[b];if(c*c>a)return N.push(a),a;if(!(a%c))break}}}function v(a,b){var c=a/d(b)&1;return c}function w(a,b){var c=a[b]||0;return c}function x(a,b){var c=w(a,b)+1;a[b]=c}function y(a,b){a?Object.freeze(b):b=void 0,Object.defineProperties(this,{_sign:{value:a},_factors:{value:b}})}function z(a){return a%1===0}function A(a){return a instanceof I?a:new I(a)}function B(a,b,c){var d,e=a._sign*b._sign^0;if(e){d=h();var f,g=a._factors;for(f in g)d[f]=g[f];var i=b._factors;for(f in i){var k=w(g,f)+c*i[f];Q(k)||F(),D(d,f,k)}}var l=j(e,d);return l}function C(a,b){var c=w(a,b)+1;c>M&&F(),a[b]=c}function D(a,b,c){c?a[b]=c:delete a[b]}function E(a){var b=Math.abs(a),c="";do{var d=b%10;b=(b-d)/10;var e=O[d];c=e+c}while(b);return 0>a&&(c=P+c),c}function F(){throw Error("Arithmetic overflow")}function G(){throw Error("Invalid argument")}function H(){throw Error("No rational result")}function I(a){a=Number(a),isFinite(a)||G();var b,c=Math.abs(a),d=a/c^0;d&&(b=h(),s(b,c));var e=(this instanceof I?y:j).call(this,d,b);return e}function J(a){null!=a&&(a.Q=I)}var K=10,L=-9007199254740991,M=9007199254740991,N=[3],O="⁰¹²³⁴⁵⁶⁷⁸⁹",P="⁻",Q=Number.isSafeInteger||function(a){var b="number"==typeof a&&a%1===0&&a>=L&&M>=a;return b},R=function(a){var c=b(this,A(a),1);return c},S=function(){var a=f(T,arguments);return a},T=function(a){a=A(a);var b,c=this._sign,d=a._sign;if(c&&d)if(c!==d)b=c;else{var e=k(this._factors,a._factors),f=e.norm1,g=e.norm2;b=f>g?c:g>f?-c:0}else b=c-d;return b},U=function(a){var b=arguments.length;if(b){a=A(a);for(var c=1;b>c;++c)if(!a.equals(arguments[c]))return!1}return!0},V=function(){var a;return a=arguments.length?f(ab,arguments):Function.prototype.toString.call(this)},W=function(a){a=A(a),a._sign||H();var b=B(this,a,-1);return b},X=function(){var a=this._sign;a||H();var b=h(),c=this._factors;for(var d in c)b[d]=-c[d];var e=j(a,b);return e},Y=function(a){var b=B(this,A(a),1);return b},Z=function(){var a=j(0-this._sign,this._factors);return a},$=function(a){a=A(a);var b,c,d=this._sign,e=a._sign;if(d)if(c=h(),e){var f,g,i=this._factors,k=a._factors,l=e;if(d>0){var m=1;for(f in k)g=k[f],g>0?l*=Math.pow(f,g):m*=Math.pow(f,-g);for(f in i)g=i[f]/m,g&&z(g)||H(),g*=l,Q(g)||F(),c[f]=g;b=1}else{for(f in k)g=k[f],0>g&&H(),l*=Math.pow(f,g);for(f in i)g=i[f]*l,Q(g)||F(),c[f]=g;b=k[2]?1:-1}}else b=1;else 0>=e&&H(),b=0;var n=j(b,c);return n},_=function(a){if(a=A(a),this._sign!==a._sign)return!1;var b,c=this._factors,d=a._factors;for(b in c)if(c[b]!==d[b])return!1;for(b in d)if(d[b]!==c[b])return!1;return!0},ab=function(){var a="";t(this,function(b,c){var d=b+(1!==c?E(c):"");a+=(a?"⋅":"")+d});var b=this._sign;return a=(a?0>b?"-":"":b)+a},bb=function(a){var c=b(this,A(a),-1);return c},cb=function(){var a=1,b=1;t(this,function(c,d){d>0?a*=Math.pow(c,d):b*=Math.pow(c,-d)});var c=a/b;if(!isFinite(c)){var d=0;t(this,function(a,b){d+=b*Math.log(a)}),c=Math.exp(d)}return c*=this._sign};m("MAX_EXP",M),m("MAX_PRIME",9007199254740881),m("MIN_EXP",L),p("add",R),n("add",i(R,0)),n("compare",S),p("compareTo",T),q("divide",W),p("equals",_),n("equals",U),q("invert",X),p("minus",bb),p("multiply",Y),n("multiply",i(Y,1)),q("negate",Z),p("over",W),q("pow",$),p("plus",R),q("subtract",bb),p("times",Y),p("toString",ab),n("toString",V),p("valueOf",cb),J(a),"undefined"!=typeof module&&(module.exports=I)}("undefined"==typeof self?null:self);