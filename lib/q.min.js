!function(){"use strict";function a(){var a=Number.isSafeInteger||function(a){var b="number"==typeof a&&a%1===0&&a>=N&&O>=a;return b};return a}function b(){var a=Math.log2||function(a){var b=Math.log(a)*Math.LOG2E;return b};return a}function c(a,b,c){var d,e,f,g,h,i,l,m,n=a._sign,o=b._sign,p=a._factors,q=b._factors;return n&&o?(f=k(p,q),g=n*f.norm1,h=c*o*f.norm2,i=g+h,(i-g!==h||i-h!==g)&&H(),l=R(i),d=i/l^0,e=f.factors,t(e,l)):(d=n+c*o,e=p||q),m=j(d,e)}function d(a){var b=U(W(a)),c=a/S(b);return 1>c?--b:c>=2&&++b,b}function e(a,b){var c=b>1023?a*S(1023)*S(b-1023):a*S(b);return c}function f(a,b){return a.apply(C(b[0]),Array.prototype.slice.call(b,1))}function g(a,b,c){for(var d=c;b>d&&w(a,d)===w(a,d-c);++d);return d>=M+c?d:void 0}function h(){return{}}function i(a,b){var c=function(){var c=Array.prototype.reduce.call(arguments,function(b,c){var d=a.call(b,c);return d},K(b));return c};return c}function j(){var a=Object.create(K.prototype);return B.apply(a,arguments),a}function k(a,b){var c,d,e,f,g,i,j,k,l,m,n=h();for(c in a)n[c]=X(a[c],y(b,c));for(c in b)n[c]=X(b[c],y(a,c));d=1,e=1;for(c in n)2!==+c&&(f=n[c],g=y(a,c)-f,g>0?d*=Y(c,g):(i=y(b,c)-f,i>0&&(e*=Y(c,i))));return j=y(n,2),k=x(d,a,j),l=x(e,b,j),m={factors:n,norm1:k,norm2:l}}function l(a,b){var c=y(a,b)-1;F(a,b,c)}function m(a,b){Object.defineProperty(K,a,{value:b})}function n(a,b){o(K,a,b)}function o(a,b,c){Object.defineProperty(a,b,{configurable:!0,value:c,writable:!0})}function p(a,b){o(K.prototype,a,b)}function q(a,b){p(a,b);var c=function(){return f(b,arguments)};n(a,c)}function r(a,b,c){for(;b>1;){var d=z(b);c(a,d),b/=d}}function s(a,b){var c,f,h,i,j,k,m,n,o,p,q=52-d(b);for(b=e(b,q),c=X(q-M,52),h=2;c>=h;++h)if(i=b-w(b,h-1),j=g(i,q,h),j&&(k=S(h),m=U(i/S(j-h))%k))return n=U(i/S(j)),o=k-1,p=n*o+m,r(a,p,A),r(a,o,l),f=y(a,2)-q+j,void F(a,2,f);r(a,b,A),f=y(a,2)-q,F(a,2,f)}function t(a,b){r(a,b,E);for(var c in a)a[c]||delete a[c]}function u(a){return null!=a?a+"":void 0}function v(a,b){if(a._sign){var c=a._factors;Object.keys(c).sort(function(a,b){return a-b}).forEach(function(a){var d=c[a];b(a,d)})}}function w(a,b){var c=a/S(b)&1;return c}function x(a,b,c){var d,e;return 1&a?(e=y(b,2)-c,d=a*S(e)):d=1/0,d}function y(a,b){var c=a[b]||0;return c}function z(a){var b,c,d;if(!(a%2))return 2;if(!(a%3))return 3;if(!(a%5))return 5;for(b=Math.sqrt(a),c=7;b>=c;c+=30){if(!(a%(d=c)))return d;if(!(a%(d=c+4)))return d;if(!(a%(d=c+6)))return d;if(!(a%(d=c+10)))return d;if(!(a%(d=c+12)))return d;if(!(a%(d=c+16)))return d;if(!(a%(d=c+22)))return d;if(!(a%(d=c+24)))return d}return a}function A(a,b){var c=y(a,b)+1;a[b]=c}function B(a,b){a?Object.freeze(b):b=void 0,Object.defineProperties(this,{_sign:{value:a},_factors:{value:b}})}function C(a){var b=a instanceof K?a:new K(a);return b}function D(a,b,c){var d,e,f,g,i,k,l=a._sign*b._sign^0;if(l){d=h(),f=a._factors;for(e in f)d[e]=f[e];g=b._factors;for(e in g)i=y(f,e)+c*g[e],V(i)||H(),F(d,e,i)}return k=j(l,d)}function E(a,b){var c=y(a,b)+1;c>O&&H(),a[b]=c}function F(a,b,c){c?a[b]=c:delete a[b]}function G(a){var b,c,d=R(a),e="";do b=d%10,d=(d-b)/10,c=P[b],e=c+e;while(d);return 0>a&&(e=Q+e),e}function H(){throw Error("Arithmetic overflow")}function I(){throw Error("Invalid argument")}function J(){throw Error("No rational result")}function K(a){var b,c,d,e;return a=Number(a),isFinite(a)||I(),c=R(a),d=a/c^0,d&&(b=h(),s(b,c)),e=(this instanceof K?B:j).call(this,d,b)}function L(a){null!=a&&(a.Q=K)}var M=10,N=-9007199254740991,O=9007199254740991,P="⁰¹²³⁴⁵⁶⁷⁸⁹",Q="⁻",R=Math.abs,S=Math.pow.bind(null,2),T=Math.ceil,U=Math.floor,V=a(),W=b(),X=Math.min,Y=Math.pow,Z=function(){var a=this._sign,b=0>a?j(1,this._factors):this;return b},$=function(a){var b=c(this,C(a),1);return b},_=function(){var a=f(aa,arguments);return a},aa=function(a){var b,c,d,e,f,g;return a=C(a),c=this._sign,d=a._sign,c&&d?c!==d?b=c:(e=k(this._factors,a._factors),f=e.norm1,g=e.norm2,f>O&&g>O&&H(),b=f>g?c:g>f?-c:0):b=c-d,b},ba=function(a){var b,c=arguments.length;if(c)for(a=C(a),b=1;c>b;++b)if(!a.equals(arguments[b]))return!1;return!0},ca=function(){var a;return a=arguments.length?f(ma,arguments):Function.prototype.toString.call(this)},da=function(a){a=C(a),a._sign||J();var b=D(this,a,-1);return b},ea=function(a){var b,c,d,e,f,g,i,k,l,m,n,o,p,q,s,u,v,w,x;if(a=C(a),b=a._sign,b||J(),d=1,e=1,f=h(),g=this._sign){k=this._factors,l=a._factors;for(c in k)m=k[c],n=y(l,c),i=m-n,i>0?(f[c]=n,d*=Y(c,i)):(f[c]=m,e*=Y(c,-i));for(c in l)k[c]||(i=l[c],0>i?(f[c]=i,d*=Y(c,-i)):e*=Y(c,i));(d>O||e>O)&&H()}return o=d%e,p=o&&g,t(f,o),q=U(d/e),u=q&&g*b^0,u&&(s=h(),r(s,q,A)),v=j(u,s),w=j(p,f),x={quotient:v,remainder:w}},fa=function(){var a,b,c,d,e=this._sign;e||J(),a=h(),b=this._factors;for(c in b)a[c]=-b[c];return d=j(e,a)},ga=function(){var a,b,c=this._factors;for(a in c)if(b=c[a],0>b)return!1;return!0},ha=function(){var a,b,c;return this._sign>0?(b=this._factors,c=Object.keys(b),a=1===c.length&&1===b[c[0]]):a=!1,a},ia=function(a){var b=D(this,C(a),1);return b},ja=function(){var a=j(0-this._sign,this._factors);return a},ka=function(a){var b,c,d,e,f,g,i,k,l,m,n;if(a=C(a),d=this._sign,e=a._sign,d)if(c=h(),e)if(f=this._factors,g=a._factors,i=e,d>0){m=1;for(k in g)l=g[k],l>0?i*=Y(k,l):m*=Y(k,-l);for(k in f)l=f[k]/m,(!l||l%1)&&J(),l*=i,V(l)||H(),c[k]=l;b=1}else{for(k in g)l=g[k],0>l&&J(),i*=Y(k,l);for(k in f)l=f[k]*i,V(l)||H(),c[k]=l;b=g[2]?1:-1}else b=1;else 0>=e&&J(),b=0;return n=j(b,c)},la=function(a){var b,c,d;if(a=C(a),this._sign!==a._sign)return!1;b=this._factors,c=a._factors;for(d in b)if(b[d]!==c[d])return!1;for(d in c)if(c[d]!==b[d])return!1;return!0},ma=function(a){function b(a){var b=(0>e?"-":"")+a;return b}var c,d,e,f,g,h,i,j;if(a=a||{mode:null},d=u(a.mode),e=this._sign,"fraction"===d)if(e){f=1,g=1,h=this._factors;for(i in h)j=h[i],j>0?f*=Y(i,j):g*=Y(i,-j);c=f>O||g>O?"(OVERFLOW)":b(1!==g?f+"/"+g:f)}else c="0";else e?(c="",v(this,function(a,b){var d=1!==b?G(b):"";c+=(c?"⋅":"")+a+d}),c=b(c||1)):c="0";return c},na=function(a){var b,c,d,e,f,g,i,k,l,m,n,o=1,p=1,q=this._factors;for(b in q)c=q[b],c>0?o*=Y(b,c):p*=Y(b,-c);switch((o>O||p>O)&&H(),d=o/p,e=this._sign,a=u(a)){case"up":f=!0;break;case"down":f=!1;break;case"ceiling":f=e>0;break;case"floor":f=0>e;break;case"half up":f=d%1>=.5;break;case"half down":f=d%1>.5;break;default:g=d%2,f=g>=1.5||g>.5&&1>g}return i=f?T:U,k=i(d),m=k&&e,m&&(l=h(),r(l,k,A)),n=j(m,l)},oa=function(){var a=this._sign;return a},pa=function(a){var b=c(this,C(a),-1);return b},qa=function(){var a,b,c=1,d=1;return v(this,function(a,b){b>0?c*=Y(a,b):d*=Y(a,-b)}),a=c/d,isFinite(a)||(b=0,v(this,function(a,c){b+=c*Math.log(a)}),a=Math.exp(b)),a*=this._sign};m("MAX_EXP",O),m("MAX_PRIME",9007199254740881),m("MIN_EXP",N),q("abs",Z),p("add",$),n("add",i($,0)),n("compare",_),p("compareTo",aa),q("divide",da),q("divideAndRemainder",ea),p("equals",la),n("equals",ba),q("invert",fa),q("isInteger",ga),q("isPrime",ha),p("minus",pa),p("multiply",ia),n("multiply",i(ia,1)),q("negate",ja),p("over",da),p("plus",$),q("pow",ka),q("round",na),q("sign",oa),q("subtract",pa),p("times",ia),p("toString",ma),n("toString",ca),p("valueOf",qa),L("undefined"!=typeof self?self:null),"undefined"!=typeof module&&(module.exports=K)}();