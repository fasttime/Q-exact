!function(a){"use strict";function b(a,b){return a+b}function c(a,b,c){var d,e,f=a.sign,g=b.sign;if(f&&g){e=i();var h=w(a,b,c,e),j=Math.abs(h);d=h/j^0,r(e,j,D);for(var l in e)e[l]||delete e[l]}else d=c(f,g),e=a.factors||b.factors;var m=k(d,e);return m}function d(a){var b=Math.log(a)*Math.LOG2E^0,c=a/e(b);return c>=2?++b:1>c&&--b,b}function e(a){var b=Math.pow(2,a);return b}function f(a,b){var c=b>1023?a*e(1023)*e(b-1023):a*e(b);return c}function g(a,b){return a.apply(B(b[0]),Array.prototype.slice.call(b,1))}function h(a,b,c){for(var d=c;b>d&&v(a,d)===v(a,d-c);++d);return d>=M+c?d:void 0}function i(){return{}}function j(a,b){var c=function(){var c=Array.prototype.reduce.call(arguments,function(b,c){return a.call(b,c)},K(b));return c};return c}function k(){var a=Object.create(K.prototype);return z.apply(a,arguments),a}function l(a,b){var c=x(a,b)-1;E(a,b,c)}function m(a,b){Object.defineProperty(K,a,{value:b})}function n(a,b){o(K,a,b)}function o(a,b,c){Object.defineProperty(a,b,{configurable:!0,value:c,writable:!0})}function p(a,b){o(K.prototype,a,b)}function q(a,b){p(a,b);var c=function(){return g(b,arguments)};n(a,c)}function r(a,b,c){if(b>1){for(var d=0,e=2;!(e*e>b);)b%e?e=P[d++]||u():(c(a,e),b/=e);c(a,b)}}function s(a,b){var c=52-d(b);b=f(b,c);for(var g,i=Math.min(c-M,52),j=2;i>=j;++j){var k=b-v(b,j-1),m=h(k,c,j);if(m){var n=e(j),o=Math.floor(k/e(m-j))%n;if(o){var p=Math.floor(k/e(m)),q=n-1,s=p*q+o;return r(a,s,y),r(a,q,l),g=x(a,2)-c+m,void E(a,2,g)}}}r(a,b,y),g=x(a,2)-c,E(a,2,g)}function t(a,b){if(a.sign){var c=a.factors;Object.keys(c).sort(function(a,b){return a-b}).forEach(function(a){var d=c[a];b(a,d)})}}function u(){for(var a=P[P.length-1];;){a+=2;for(var b=0;;++b){var c=P[b];if(c*c>a)return P.push(a),a;if(!(a%c))break}}}function v(a,b){var c=a/e(b)&1;return c}function w(a,b,c,d){var f,g=a.factors,h=b.factors;for(f in g)d[f]=Math.min(g[f],x(h,f));for(f in h)d[f]=Math.min(h[f],x(g,f));var i=a.sign,j=b.sign;for(f in d)if(2!==+f){var k=d[f],l=x(g,f)-k;if(l>0)i*=Math.pow(f,l);else{var m=x(h,f)-k;m>0&&(j*=Math.pow(f,m))}}i&j&1||H();var n=x(g,2)-x(d,2),o=i*e(n),p=x(h,2)-x(d,2),q=j*e(p),r=c(o,q);return 0!==c(o-r,q)&&H(),r}function x(a,b){var c=a[b]||0;return c}function y(a,b){var c=x(a,b)+1;a[b]=c}function z(a,b){a?Object.freeze(b):b=void 0,Object.defineProperties(this,{sign:{value:a},factors:{value:b}})}function A(a){return a%1===0}function B(a){return a instanceof K?a:new K(a)}function C(a,b,c){var d,e=a.sign*b.sign^0;if(e){d=i();var f,g=a.factors;for(f in g)d[f]=g[f];var h=b.factors;for(f in h){var j=c(x(g,f),h[f]);S(j)||H(),E(d,f,j)}}var l=k(e,d);return l}function D(a,b){var c=x(a,b)+1;c>O&&H(),a[b]=c}function E(a,b,c){c?a[b]=c:delete a[b]}function F(a,b){return a-b}function G(a){var b=Math.abs(a),c="";do{var d=b%10;b=(b-d)/10;var e=Q[d];c=e+c}while(b);return 0>a&&(c=R+c),c}function H(){throw Error("Arithmetic overflow")}function I(){throw Error("Invalid argument")}function J(){throw Error("No rational result")}function K(a){a=Number(a),isFinite(a)||I();var b,c=Math.abs(a),d=a/c^0;d&&(b=i(),s(b,c));var e=(this instanceof K?z:k).call(this,d,b);return e}function L(a){null!=a&&(a.Q=K)}var M=10,N=-9007199254740991,O=9007199254740991,P=[3],Q="⁰¹²³⁴⁵⁶⁷⁸⁹",R="⁻",S=Number.isSafeInteger||function(a){var b="number"==typeof a&&a%1===0&&a>=N&&O>=a;return b},T=function(a){var d=c(this,B(a),b);return d},U=function(){var a=g(V,arguments);return a},V=function(a){a=B(a);var b,c=this.sign,d=a.sign;if(c&&d)if(c!==d)b=c;else{var e=w(this,a,F,i());b=e/Math.abs(e)^0}else b=c-d;return b},W=function(a){var b=arguments.length;if(b){a=B(a);for(var c=1;b>c;++c)if(!a.equals(arguments[c]))return!1}return!0},X=function(){var a;return a=arguments.length?g(cb,arguments):Function.prototype.toString.call(this)},Y=function(a){a=B(a),a.sign||J();var b=C(this,a,F);return b},Z=function(){var a=this.sign;a||J();var b=i(),c=this.factors;for(var d in c)b[d]=-c[d];var e=k(a,b);return e},$=function(a){var c=C(this,B(a),b);return c},_=function(){var a=k(0-this.sign,this.factors);return a},ab=function(a){a=B(a);var b,c,d=this.sign,e=a.sign;if(d)if(c=i(),e){var f,g,h=this.factors,j=a.factors,l=e;if(d>0){var m=1;for(f in j)g=j[f],g>0?l*=Math.pow(f,g):m*=Math.pow(f,-g);for(f in h)g=h[f]/m,g&&A(g)||J(),g*=l,S(g)||H(),c[f]=g;b=1}else{for(f in j)g=j[f],0>g&&J(),l*=Math.pow(f,g);for(f in h)g=h[f]*l,S(g)||H(),c[f]=g;b=j[2]?1:-1}}else b=1;else 0>=e&&J(),b=0;var n=k(b,c);return n},bb=function(a){if(a=B(a),this.sign!==a.sign)return!1;var b,c=this.factors,d=a.factors;for(b in c)if(c[b]!==d[b])return!1;for(b in d)if(d[b]!==c[b])return!1;return!0},cb=function(){var a="";t(this,function(b,c){var d=b+(1!==c?G(c):"");a+=(a?"⋅":"")+d});var b=this.sign;return a=(a?0>b?"-":"":b)+a},db=function(a){var b=c(this,B(a),F);return b},eb=function(){var a=1,b=1;t(this,function(c,d){d>0?a*=Math.pow(c,d):b*=Math.pow(c,-d)});var c=a/b;if(!isFinite(c)){var d=0;t(this,function(a,b){d+=b*Math.log(a)}),c=Math.exp(d)}return c*=this.sign};m("MAX_EXP",O),m("MAX_PRIME",9007199254740881),m("MIN_EXP",N),p("add",T),n("add",j(T,0)),n("compare",U),p("compareTo",V),q("divide",Y),p("equals",bb),n("equals",W),q("invert",Z),p("minus",db),p("multiply",$),n("multiply",j($,1)),q("negate",_),p("over",Y),q("pow",ab),p("plus",T),q("subtract",db),p("times",$),p("toString",cb),n("toString",X),p("valueOf",eb),L(a),"undefined"!=typeof module&&(module.exports=K)}("undefined"==typeof self?null:self);