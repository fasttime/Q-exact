!function(a){"use strict";function b(){var a=Number.isSafeInteger||function(a){var b="number"==typeof a&&a%1===0&&a>=O&&P>=a;return b};return a}function c(){var a=Math.log2||function(a){var b=Math.log(a)*Math.LOG2E;return b};return a}function d(a,b,c){var d,e,f,g,h,i,j,m,n=a._sign,o=b._sign,p=a._factors,q=b._factors;return n&&o?(f=l(p,q),g=n*f.norm1,h=c*o*f.norm2,i=g+h,(i-g!==h||i-h!==g)&&I(),j=S(i),d=i/j^0,e=f.factors,u(e,j)):(d=n+c*o,e=p||q),m=k(d,e)}function e(a){var b=V(X(a)),c=a/T(b);return 1>c?--b:c>=2&&++b,b}function f(a,b){var c=b>1023?a*T(1023)*T(b-1023):a*T(b);return c}function g(a,b){return a.apply(D(b[0]),Array.prototype.slice.call(b,1))}function h(a,b,c){for(var d=c;b>d&&x(a,d)===x(a,d-c);++d);return d>=N+c?d:void 0}function i(){return{}}function j(a,b){var c=function(){var c=Array.prototype.reduce.call(arguments,function(b,c){var d=a.call(b,c);return d},L(b));return c};return c}function k(){var a=Object.create(L.prototype);return C.apply(a,arguments),a}function l(a,b){var c,d,e,f,g,h,j,k,l,m,n=i();for(c in a)n[c]=Y(a[c],z(b,c));for(c in b)n[c]=Y(b[c],z(a,c));d=1,e=1;for(c in n)2!==+c&&(f=n[c],g=z(a,c)-f,g>0?d*=Z(c,g):(h=z(b,c)-f,h>0&&(e*=Z(c,h))));return j=z(n,2),k=y(d,a,j),l=y(e,b,j),m={factors:n,norm1:k,norm2:l}}function m(a,b){var c=z(a,b)-1;G(a,b,c)}function n(a,b){Object.defineProperty(L,a,{value:b})}function o(a,b){p(L,a,b)}function p(a,b,c){Object.defineProperty(a,b,{configurable:!0,value:c,writable:!0})}function q(a,b){p(L.prototype,a,b)}function r(a,b){q(a,b);var c=function(){return g(b,arguments)};o(a,c)}function s(a,b,c){for(;b>1;){var d=A(b);c(a,d),b/=d}}function t(a,b){var c,d,g,i,j,k,l,n,o,p,q=52-e(b);for(b=f(b,q),c=Y(q-N,52),g=2;c>=g;++g)if(i=b-x(b,g-1),j=h(i,q,g),j&&(k=T(g),l=V(i/T(j-g))%k))return n=V(i/T(j)),o=k-1,p=n*o+l,s(a,p,B),s(a,o,m),d=z(a,2)-q+j,void G(a,2,d);s(a,b,B),d=z(a,2)-q,G(a,2,d)}function u(a,b){s(a,b,F);for(var c in a)a[c]||delete a[c]}function v(a){return null!=a?a+"":void 0}function w(a,b){if(a._sign){var c=a._factors;Object.keys(c).sort(function(a,b){return a-b}).forEach(function(a){var d=c[a];b(a,d)})}}function x(a,b){var c=a/T(b)&1;return c}function y(a,b,c){var d,e;return 1&a?(e=z(b,2)-c,d=a*T(e)):d=1/0,d}function z(a,b){var c=a[b]||0;return c}function A(a){var b,c,d;if(!(a%2))return 2;if(!(a%3))return 3;if(!(a%5))return 5;for(b=Math.sqrt(a),c=7;b>=c;c+=30){if(!(a%(d=c)))return d;if(!(a%(d=c+4)))return d;if(!(a%(d=c+6)))return d;if(!(a%(d=c+10)))return d;if(!(a%(d=c+12)))return d;if(!(a%(d=c+16)))return d;if(!(a%(d=c+22)))return d;if(!(a%(d=c+24)))return d}return a}function B(a,b){var c=z(a,b)+1;a[b]=c}function C(a,b){a?Object.freeze(b):b=void 0,Object.defineProperties(this,{_sign:{value:a},_factors:{value:b}})}function D(a){var b=a instanceof L?a:new L(a);return b}function E(a,b,c){var d,e,f,g,h,j,l=a._sign*b._sign^0;if(l){d=i(),f=a._factors;for(e in f)d[e]=f[e];g=b._factors;for(e in g)h=z(f,e)+c*g[e],W(h)||I(),G(d,e,h)}return j=k(l,d)}function F(a,b){var c=z(a,b)+1;c>P&&I(),a[b]=c}function G(a,b,c){c?a[b]=c:delete a[b]}function H(a){var b,c,d=S(a),e="";do b=d%10,d=(d-b)/10,c=Q[b],e=c+e;while(d);return 0>a&&(e=R+e),e}function I(){throw Error("Arithmetic overflow")}function J(){throw Error("Invalid argument")}function K(){throw Error("No rational result")}function L(a){var b,c,d,e;return a=Number(a),isFinite(a)||J(),c=S(a),d=a/c^0,d&&(b=i(),t(b,c)),e=(this instanceof L?C:k).call(this,d,b)}function M(a){null!=a&&(a.Q=L)}var N=10,O=-9007199254740991,P=9007199254740991,Q="⁰¹²³⁴⁵⁶⁷⁸⁹",R="⁻",S=Math.abs,T=Math.pow.bind(null,2),U=Math.ceil,V=Math.floor,W=b(),X=c(),Y=Math.min,Z=Math.pow,$=function(){var a=this._sign,b=0>a?k(1,this._factors):this;return b},_=function(a){var b=d(this,D(a),1);return b},ab=function(){var a=g(bb,arguments);return a},bb=function(a){var b,c,d,e,f,g;return a=D(a),c=this._sign,d=a._sign,c&&d?c!==d?b=c:(e=l(this._factors,a._factors),f=e.norm1,g=e.norm2,f>P&&g>P&&I(),b=f>g?c:g>f?-c:0):b=c-d,b},cb=function(a){var b,c=arguments.length;if(c)for(a=D(a),b=1;c>b;++b)if(!a.equals(arguments[b]))return!1;return!0},db=function(){var a;return a=arguments.length?g(nb,arguments):Function.prototype.toString.call(this)},eb=function(a){a=D(a),a._sign||K();var b=E(this,a,-1);return b},fb=function(a){var b,c,d,e,f,g,h,j,l,m,n,o,p,q,r,t,v,w,x;if(a=D(a),b=a._sign,b||K(),d=1,e=1,f=i(),g=this._sign){j=this._factors,l=a._factors;for(c in j)m=j[c],n=z(l,c),h=m-n,h>0?(f[c]=n,d*=Z(c,h)):(f[c]=m,e*=Z(c,-h));for(c in l)j[c]||(h=l[c],0>h?(f[c]=h,d*=Z(c,-h)):e*=Z(c,h));(d>P||e>P)&&I()}return o=d%e,p=o&&g,u(f,o),q=V(d/e),t=q&&g*b^0,t&&(r=i(),s(r,q,B)),v=k(t,r),w=k(p,f),x={quotient:v,remainder:w}},gb=function(){var a,b,c,d,e=this._sign;e||K(),a=i(),b=this._factors;for(c in b)a[c]=-b[c];return d=k(e,a)},hb=function(){var a,b,c=this._factors;for(a in c)if(b=c[a],0>b)return!1;return!0},ib=function(){var a,b,c;return this._sign>0?(b=this._factors,c=Object.keys(b),a=1===c.length&&1===b[c[0]]):a=!1,a},jb=function(a){var b=E(this,D(a),1);return b},kb=function(){var a=k(0-this._sign,this._factors);return a},lb=function(a){var b,c,d,e,f,g,h,j,l,m,n;if(a=D(a),d=this._sign,e=a._sign,d)if(c=i(),e)if(f=this._factors,g=a._factors,h=e,d>0){m=1;for(j in g)l=g[j],l>0?h*=Z(j,l):m*=Z(j,-l);for(j in f)l=f[j]/m,(!l||l%1)&&K(),l*=h,W(l)||I(),c[j]=l;b=1}else{for(j in g)l=g[j],0>l&&K(),h*=Z(j,l);for(j in f)l=f[j]*h,W(l)||I(),c[j]=l;b=g[2]?1:-1}else b=1;else 0>=e&&K(),b=0;return n=k(b,c)},mb=function(a){var b,c,d;if(a=D(a),this._sign!==a._sign)return!1;b=this._factors,c=a._factors;for(d in b)if(b[d]!==c[d])return!1;for(d in c)if(c[d]!==b[d])return!1;return!0},nb=function(a){function b(a){var b=(0>e?"-":"")+a;return b}var c,d,e,f,g,h,i,j;if(a=a||{mode:null},d=v(a.mode),e=this._sign,"fraction"===d)if(e){f=1,g=1,h=this._factors;for(i in h)j=h[i],j>0?f*=Z(i,j):g*=Z(i,-j);c=f>P||g>P?"(OVERFLOW)":b(1!==g?f+"/"+g:f)}else c="0";else e?(c="",w(this,function(a,b){var d=1!==b?H(b):"";c+=(c?"⋅":"")+a+d}),c=b(c||1)):c="0";return c},ob=function(a){var b,c,d,e,f,g,h,j,l,m,n,o=1,p=1,q=this._factors;for(b in q)c=q[b],c>0?o*=Z(b,c):p*=Z(b,-c);switch((o>P||p>P)&&I(),d=o/p,e=this._sign,a=v(a)){case"up":f=!0;break;case"down":f=!1;break;case"ceiling":f=e>0;break;case"floor":f=0>e;break;case"half up":f=d%1>=.5;break;case"half down":f=d%1>.5;break;default:g=d%2,f=g>=1.5||g>.5&&1>g}return h=f?U:V,j=h(d),m=j&&e,m&&(l=i(),s(l,j,B)),n=k(m,l)},pb=function(){var a=this._sign;return a},qb=function(a){var b=d(this,D(a),-1);return b},rb=function(){var a,b,c=1,d=1;return w(this,function(a,b){b>0?c*=Z(a,b):d*=Z(a,-b)}),a=c/d,isFinite(a)||(b=0,w(this,function(a,c){b+=c*Math.log(a)}),a=Math.exp(b)),a*=this._sign};n("MAX_EXP",P),n("MAX_PRIME",9007199254740881),n("MIN_EXP",O),r("abs",$),q("add",_),o("add",j(_,0)),o("compare",ab),q("compareTo",bb),r("divide",eb),r("divideAndRemainder",fb),q("equals",mb),o("equals",cb),r("invert",gb),r("isInteger",hb),r("isPrime",ib),q("minus",qb),q("multiply",jb),o("multiply",j(jb,1)),r("negate",kb),q("over",eb),q("plus",_),r("pow",lb),r("round",ob),r("sign",pb),r("subtract",qb),q("times",jb),q("toString",nb),o("toString",db),q("valueOf",rb),M("undefined"!=typeof a?a:null),"undefined"!=typeof module&&(module.exports=L)}();