!function(a){"use strict";function b(a,b,c){var d,e,f,g,j,k,l,m,n=a._sign,o=b._sign,p=a._factors,q=b._factors;return n&&o?(f=i(p,q),g=n*f.norm1,j=c*o*f.norm2,k=g+j,(k-g!==j||k-j!==g)&&F(),l=Q(k),d=k/l^0,e=f.factors,r(e,l)):(d=n+c*o,e=p||q),m=h(d,e)}function c(a,b){var c=b>1023?a*S(1023)*S(b-1023):a*S(b);return c}function d(a,b){return a.apply(A(b[0]),Array.prototype.slice.call(b,1))}function e(a,b,c){for(var d=c;b>d&&v(a,d)===v(a,d-c);++d);return d>=K+c?d:void 0}function f(){return{}}function g(a,b){var c=function(){var c=Array.prototype.reduce.call(arguments,function(b,c){var d=a.call(b,c);return d},I(b));return c};return c}function h(){var a=Object.create(I.prototype);return z.apply(a,arguments),a}function i(a,b){var c,d,e,g,h,i,j,k,l,m,n=f();for(c in a)n[c]=W(a[c],x(b,c));for(c in b)n[c]=W(b[c],x(a,c));d=1,e=1;for(c in n)2!==+c&&(g=n[c],h=x(a,c)-g,h>0?d*=X(c,h):(i=x(b,c)-g,i>0&&(e*=X(c,i))));return j=x(n,2),k=w(d,a,j),l=w(e,b,j),m={factors:n,norm1:k,norm2:l}}function j(a,b){var c=x(a,b)-1;D(a,b,c)}function k(a,b){Object.defineProperty(I,a,{value:b})}function l(a,b){m(I,a,b)}function m(a,b,c){Object.defineProperty(a,b,{configurable:!0,value:c,writable:!0})}function n(a,b){m(I.prototype,a,b)}function o(a,b){n(a,b);var c=function(){return d(b,arguments)};l(a,c)}function p(a,b,c){var d,e;if(b>1){for(d=0,e=2;!(e*e>b);)b%e?e=N[d++]||u():(c(a,e),b/=e);c(a,b)}}function q(a,b){var d,f,g,h,i,k,l,m,n,o,q=52-R(b);for(b=c(b,q),d=W(q-K,52),g=2;d>=g;++g)if(h=b-v(b,g-1),i=e(h,q,g),i&&(k=S(g),l=U(h/S(i-g))%k))return m=U(h/S(i)),n=k-1,o=m*n+l,p(a,o,y),p(a,n,j),f=x(a,2)-q+i,void D(a,2,f);p(a,b,y),f=x(a,2)-q,D(a,2,f)}function r(a,b){p(a,b,C);for(var c in a)a[c]||delete a[c]}function s(a){return null!=a?a+"":void 0}function t(a,b){if(a._sign){var c=a._factors;Object.keys(c).sort(function(a,b){return a-b}).forEach(function(a){var d=c[a];b(a,d)})}}function u(){for(var a,b,c=N[N.length-1];;)for(c+=2,a=0;;++a){if(b=N[a],b*b>c)return N.push(c),c;if(!(c%b))break}}function v(a,b){var c=a/S(b)&1;return c}function w(a,b,c){var d,e;return 1&a?(e=x(b,2)-c,d=a*S(e)):d=1/0,d}function x(a,b){var c=a[b]||0;return c}function y(a,b){var c=x(a,b)+1;a[b]=c}function z(a,b){a?Object.freeze(b):b=void 0,Object.defineProperties(this,{_sign:{value:a},_factors:{value:b}})}function A(a){var b=a instanceof I?a:new I(a);return b}function B(a,b,c){var d,e,g,i,j,k,l=a._sign*b._sign^0;if(l){d=f(),g=a._factors;for(e in g)d[e]=g[e];i=b._factors;for(e in i)j=x(g,e)+c*i[e],V(j)||F(),D(d,e,j)}return k=h(l,d)}function C(a,b){var c=x(a,b)+1;c>M&&F(),a[b]=c}function D(a,b,c){c?a[b]=c:delete a[b]}function E(a){var b,c,d=Q(a),e="";do b=d%10,d=(d-b)/10,c=O[b],e=c+e;while(d);return 0>a&&(e=P+e),e}function F(){throw Error("Arithmetic overflow")}function G(){throw Error("Invalid argument")}function H(){throw Error("No rational result")}function I(a){var b,c,d,e;return a=Number(a),isFinite(a)||G(),c=Q(a),d=a/c^0,d&&(b=f(),q(b,c)),e=(this instanceof I?z:h).call(this,d,b)}function J(a){null!=a&&(a.Q=I)}var K=10,L=-9007199254740991,M=9007199254740991,N=[3],O="⁰¹²³⁴⁵⁶⁷⁸⁹",P="⁻",Q=Math.abs,R=Math.log2?function(a){var b=U(Math.log2(a));return b}:function(a){var b=U(Math.log(a)*Math.LOG2E),c=a/S(b);return c>=2?++b:1>c&&--b,b},S=Math.pow.bind(null,2),T=Math.ceil,U=Math.floor,V=Number.isSafeInteger||function(a){var b="number"==typeof a&&a%1===0&&a>=L&&M>=a;return b},W=Math.min,X=Math.pow,Y=function(){var a=this._sign,b=0>a?h(1,this._factors):this;return b},Z=function(a){var c=b(this,A(a),1);return c},$=function(){var a=d(_,arguments);return a},_=function(a){var b,c,d,e,f,g;return a=A(a),c=this._sign,d=a._sign,c&&d?c!==d?b=c:(e=i(this._factors,a._factors),f=e.norm1,g=e.norm2,f>M&&g>M&&F(),b=f>g?c:g>f?-c:0):b=c-d,b},ab=function(a){var b,c=arguments.length;if(c)for(a=A(a),b=1;c>b;++b)if(!a.equals(arguments[b]))return!1;return!0},bb=function(){var a;return a=arguments.length?d(lb,arguments):Function.prototype.toString.call(this)},cb=function(a){a=A(a),a._sign||H();var b=B(this,a,-1);return b},db=function(a){var b,c,d,e,g,i,j,k,l,m,n,o,q,s,t,u,v,w,z;if(a=A(a),b=a._sign,b||H(),d=1,e=1,g=f(),i=this._sign){k=this._factors,l=a._factors;for(c in k)m=k[c],n=x(l,c),j=m-n,j>0?(g[c]=n,d*=X(c,j)):(g[c]=m,e*=X(c,-j));for(c in l)k[c]||(j=l[c],0>j?(g[c]=j,d*=X(c,-j)):e*=X(c,j));(d>M||e>M)&&F()}return o=d%e,q=o&&i,r(g,o),s=U(d/e),u=s&&i*b^0,u&&(t=f(),p(t,s,y)),v=h(u,t),w=h(q,g),z={quotient:v,remainder:w}},eb=function(){var a,b,c,d,e=this._sign;e||H(),a=f(),b=this._factors;for(c in b)a[c]=-b[c];return d=h(e,a)},fb=function(){var a,b,c=this._factors;for(a in c)if(b=c[a],0>b)return!1;return!0},gb=function(){var a,b,c;return this._sign>0?(b=this._factors,c=Object.keys(b),a=1===c.length&&1===b[c[0]]):a=!1,a},hb=function(a){var b=B(this,A(a),1);return b},ib=function(){var a=h(0-this._sign,this._factors);return a},jb=function(a){var b,c,d,e,g,i,j,k,l,m,n;if(a=A(a),d=this._sign,e=a._sign,d)if(c=f(),e)if(g=this._factors,i=a._factors,j=e,d>0){m=1;for(k in i)l=i[k],l>0?j*=X(k,l):m*=X(k,-l);for(k in g)l=g[k]/m,(!l||l%1)&&H(),l*=j,V(l)||F(),c[k]=l;b=1}else{for(k in i)l=i[k],0>l&&H(),j*=X(k,l);for(k in g)l=g[k]*j,V(l)||F(),c[k]=l;b=i[2]?1:-1}else b=1;else 0>=e&&H(),b=0;return n=h(b,c)},kb=function(a){var b,c,d;if(a=A(a),this._sign!==a._sign)return!1;b=this._factors,c=a._factors;for(d in b)if(b[d]!==c[d])return!1;for(d in c)if(c[d]!==b[d])return!1;return!0},lb=function(a){var b,c,d,e,f,g,h,i;if(a=a||{mode:null},c=s(a.mode),d=this._sign,"fraction"===c)if(d){e=1,f=1,g=this._factors;for(h in g)i=g[h],i>0?e*=X(h,i):f*=X(h,-i);b=e>M||f>M?"(OVERFLOW)":(0>d?"-":"")+(1!==f?e+"/"+f:e)}else b="0";else d?(b="",t(this,function(a,c){var d=a+(1!==c?E(c):"");b+=(b?"⋅":"")+d}),b=(0>d?"-":"")+(b||1)):b="0";return b},mb=function(a){var b,c,d,e,g,i,j,k,l,m,n,o=1,q=1,r=this._factors;for(b in r)c=r[b],c>0?o*=X(b,c):q*=X(b,-c);switch((o>M||q>M)&&F(),d=o/q,e=this._sign,a=s(a)){case"up":g=!0;break;case"down":g=!1;break;case"ceiling":g=e>0;break;case"floor":g=0>e;break;case"half up":g=d%1>=.5;break;case"half down":g=d%1>.5;break;default:i=d%2,g=i>=1.5||i>.5&&1>i}return j=g?T:U,k=j(d),m=k&&e,m&&(l=f(),p(l,k,y)),n=h(m,l)},nb=function(){var a=this._sign;return a},ob=function(a){var c=b(this,A(a),-1);return c},pb=function(){var a,b,c=1,d=1;return t(this,function(a,b){b>0?c*=X(a,b):d*=X(a,-b)}),a=c/d,isFinite(a)||(b=0,t(this,function(a,c){b+=c*Math.log(a)}),a=Math.exp(b)),a*=this._sign};k("MAX_EXP",M),k("MAX_PRIME",9007199254740881),k("MIN_EXP",L),o("abs",Y),n("add",Z),l("add",g(Z,0)),l("compare",$),n("compareTo",_),o("divide",cb),o("divideAndRemainder",db),n("equals",kb),l("equals",ab),o("invert",eb),o("isInteger",fb),o("isPrime",gb),n("minus",ob),n("multiply",hb),l("multiply",g(hb,1)),o("negate",ib),n("over",cb),n("plus",Z),o("pow",jb),o("round",mb),o("sign",nb),o("subtract",ob),n("times",hb),n("toString",lb),l("toString",bb),n("valueOf",pb),J(a),"undefined"!=typeof module&&(module.exports=I)}("undefined"==typeof self?null:self);